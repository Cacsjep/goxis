2024/03/29 14:03:39 Step 1/49 : ARG ARCH=aarch64
2024/03/29 14:03:39 
2024/03/29 14:03:39 Step 2/49 : ARG VERSION=1.13
2024/03/29 14:03:39 
2024/03/29 14:03:39 Step 3/49 : ARG UBUNTU_VERSION=22.04
2024/03/29 14:03:39 
2024/03/29 14:03:39 Step 4/49 : ARG REPO=axisecp
2024/03/29 14:03:39 
2024/03/29 14:03:39 Step 5/49 : ARG SDK=acap-native-sdk
2024/03/29 14:03:39 
2024/03/29 14:03:39 Step 6/49 : FROM ${REPO}/${SDK}:${VERSION}-${ARCH}-ubuntu${UBUNTU_VERSION}
2024/03/29 14:03:39 
2024/03/29 14:05:10  ---> 5335d5f43047
2024/03/29 14:05:10 Step 7/49 : ARG ARCH
2024/03/29 14:05:10 
2024/03/29 14:05:11  ---> Running in a3987630062f
2024/03/29 14:05:11  ---> Removed intermediate container a3987630062f
2024/03/29 14:05:11  ---> 77da8e13eb4c
2024/03/29 14:05:11 Step 8/49 : ARG VERSION
2024/03/29 14:05:11 
2024/03/29 14:05:11  ---> Running in 7cdf67533e02
2024/03/29 14:05:11  ---> Removed intermediate container 7cdf67533e02
2024/03/29 14:05:11  ---> 19f2f03681c9
2024/03/29 14:05:11 Step 9/49 : RUN echo "Architecture is: ${ARCH}"
2024/03/29 14:05:11 
2024/03/29 14:05:11  ---> Running in b42586f26a55
2024/03/29 14:05:12 Architecture is: aarch64
2024/03/29 14:05:12  ---> Removed intermediate container b42586f26a55
2024/03/29 14:05:12  ---> 9f72864ec833
2024/03/29 14:05:12 Step 10/49 : ARG SDK_LIB_PATH_BASE=/opt/axis/acapsdk/sysroots/${ARCH}/usr
2024/03/29 14:05:12 
2024/03/29 14:05:12  ---> Running in 45c06d601b7e
2024/03/29 14:05:12  ---> Removed intermediate container 45c06d601b7e
2024/03/29 14:05:12  ---> c8eb3b3a0249
2024/03/29 14:05:12 Step 11/49 : RUN echo "SDK library path base is: ${SDK_LIB_PATH_BASE}"
2024/03/29 14:05:12 
2024/03/29 14:05:12  ---> Running in 167b9e8af4ef
2024/03/29 14:05:13 SDK library path base is: /opt/axis/acapsdk/sysroots/aarch64/usr
2024/03/29 14:05:13  ---> Removed intermediate container 167b9e8af4ef
2024/03/29 14:05:13  ---> bfec1e19d9f3
2024/03/29 14:05:13 Step 12/49 : ARG APP_DIR=/opt/goaxis/
2024/03/29 14:05:13 
2024/03/29 14:05:14  ---> Running in 334c768d0a7b
2024/03/29 14:05:14  ---> Removed intermediate container 334c768d0a7b
2024/03/29 14:05:14  ---> 10171d05ff2b
2024/03/29 14:05:14 Step 13/49 : RUN mkdir ${APP_DIR}
2024/03/29 14:05:14 
2024/03/29 14:05:14  ---> Running in 5f27766db728
2024/03/29 14:05:15  ---> Removed intermediate container 5f27766db728
2024/03/29 14:05:15  ---> 21633567e64f
2024/03/29 14:05:15 Step 14/49 : RUN apt-get update &&     DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends     wget     yasm     nasm     git     build-essential
2024/03/29 14:05:15 
2024/03/29 14:05:15  ---> Running in 7b78f1825e5b
2024/03/29 14:05:16 Hit:1 http://archive.ubuntu.com/ubuntu jammy InRelease
Get:2 http://security.ubuntu.com/ubuntu jammy-security InRelease [110 kB]
2024/03/29 14:05:16 Get:3 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [119 kB]
2024/03/29 14:05:16 Get:4 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [44.6 kB]
2024/03/29 14:05:16 Get:5 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [109 kB]
2024/03/29 14:05:17 Get:6 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [1081 kB]
2024/03/29 14:05:17 Get:7 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [2104 kB]
2024/03/29 14:05:19 Get:8 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [2067 kB]
2024/03/29 14:05:21 Get:9 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1358 kB]
2024/03/29 14:05:23 Get:10 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [1641 kB]
2024/03/29 14:05:23 Get:11 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [61.2 kB]
2024/03/29 14:05:24 Get:12 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [1920 kB]
2024/03/29 14:05:27 Get:13 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [33.3 kB]
2024/03/29 14:05:27 Get:14 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [80.9 kB]
2024/03/29 14:05:28 Fetched 10.7 MB in 12s (863 kB/s)
Reading package lists...
2024/03/29 14:05:28 
2024/03/29 14:05:28 Reading package lists...
2024/03/29 14:05:29 
2024/03/29 14:05:29 Building dependency tree...
2024/03/29 14:05:29 
Reading state information...
2024/03/29 14:05:29 git is already the newest version (1:2.34.1-1ubuntu1.10).
The following additional packages will be installed:
  cpp cpp-11 g++ g++-11 gcc gcc-11 gcc-11-base libasan6 libatomic1
  libc-dev-bin libc6-dev libcrypt-dev libgcc-11-dev libgomp1 libitm1 liblsan0
2024/03/29 14:05:29   libnsl-dev libquadmath0 libstdc++-11-dev libtirpc-dev libtsan0 libubsan1
2024/03/29 14:05:29   linux-libc-dev rpcsvc-proto
2024/03/29 14:05:29 Suggested packages:
  cpp-doc gcc-11-locales g++-multilib g++-11-multilib gcc-11-doc gcc-multilib
  manpages-dev autoconf automake libtool flex bison gdb gcc-doc
  gcc-11-multilib glibc-doc libstdc++-11-doc
Recommended packages:
  manpages manpages-dev libc-devtools
2024/03/29 14:05:29 The following NEW packages will be installed:
2024/03/29 14:05:29   build-essential cpp cpp-11 g++ g++-11 gcc gcc-11 gcc-11-base libasan6
2024/03/29 14:05:29   libatomic1 libc-dev-bin libc6-dev libcrypt-dev libgcc-11-dev libgomp1
2024/03/29 14:05:29   libitm1 liblsan0 libnsl-dev libquadmath0 libstdc++-11-dev libtirpc-dev
2024/03/29 14:05:29   libtsan0 libubsan1 linux-libc-dev nasm rpcsvc-proto wget yasm
2024/03/29 14:05:30 0 upgraded, 28 newly installed, 0 to remove and 37 not upgraded.
Need to get 58.2 MB of archives.
After this operation, 195 MB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu jammy/main amd64 wget amd64 1.21.2-2ubuntu1 [367 kB]
2024/03/29 14:05:31 Get:2 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libc-dev-bin amd64 2.35-0ubuntu3.6 [20.3 kB]
2024/03/29 14:05:31 Get:3 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 linux-libc-dev amd64 5.15.0-101.111 [1333 kB]
2024/03/29 14:05:33 Get:4 http://archive.ubuntu.com/ubuntu jammy/main amd64 libcrypt-dev amd64 1:4.4.27-1 [112 kB]
2024/03/29 14:05:34 Get:5 http://archive.ubuntu.com/ubuntu jammy/main amd64 rpcsvc-proto amd64 1.4.2-0ubuntu6 [68.5 kB]
2024/03/29 14:05:34 Get:6 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libtirpc-dev amd64 1.3.2-2ubuntu0.1 [192 kB]
2024/03/29 14:05:35 Get:7 http://archive.ubuntu.com/ubuntu jammy/main amd64 libnsl-dev amd64 1.3.0-2build2 [71.3 kB]
2024/03/29 14:05:36 Get:8 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libc6-dev amd64 2.35-0ubuntu3.6 [2100 kB]
2024/03/29 14:05:39 Get:9 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 gcc-11-base amd64 11.4.0-1ubuntu1~22.04 [20.2 kB]
2024/03/29 14:05:40 Get:10 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 cpp-11 amd64 11.4.0-1ubuntu1~22.04 [10.0 MB]
2024/03/29 14:05:56 Get:11 http://archive.ubuntu.com/ubuntu jammy/main amd64 cpp amd64 4:11.2.0-1ubuntu1 [27.7 kB]
2024/03/29 14:05:57 Get:12 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libgomp1 amd64 12.3.0-1ubuntu1~22.04 [126 kB]
2024/03/29 14:05:57 Get:13 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libitm1 amd64 12.3.0-1ubuntu1~22.04 [30.2 kB]
2024/03/29 14:05:58 Get:14 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libatomic1 amd64 12.3.0-1ubuntu1~22.04 [10.4 kB]
2024/03/29 14:05:58 Get:15 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libasan6 amd64 11.4.0-1ubuntu1~22.04 [2282 kB]
2024/03/29 14:06:02 Get:16 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 liblsan0 amd64 12.3.0-1ubuntu1~22.04 [1069 kB]
2024/03/29 14:06:04 Get:17 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libtsan0 amd64 11.4.0-1ubuntu1~22.04 [2260 kB]
2024/03/29 14:06:08 Get:18 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libubsan1 amd64 12.3.0-1ubuntu1~22.04 [976 kB]
2024/03/29 14:06:10 Get:19 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libquadmath0 amd64 12.3.0-1ubuntu1~22.04 [154 kB]
2024/03/29 14:06:10 Get:20 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libgcc-11-dev amd64 11.4.0-1ubuntu1~22.04 [2517 kB]
2024/03/29 14:06:14 Get:21 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 gcc-11 amd64 11.4.0-1ubuntu1~22.04 [20.1 MB]
2024/03/29 14:06:48 Get:22 http://archive.ubuntu.com/ubuntu jammy/main amd64 gcc amd64 4:11.2.0-1ubuntu1 [5112 B]
2024/03/29 14:06:48 Get:23 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 libstdc++-11-dev amd64 11.4.0-1ubuntu1~22.04 [2101 kB]
2024/03/29 14:06:52 Get:24 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 g++-11 amd64 11.4.0-1ubuntu1~22.04 [11.4 MB]
2024/03/29 14:07:11 Get:25 http://archive.ubuntu.com/ubuntu jammy/main amd64 g++ amd64 4:11.2.0-1ubuntu1 [1412 B]
2024/03/29 14:07:11 Get:26 http://archive.ubuntu.com/ubuntu jammy/main amd64 build-essential amd64 12.9ubuntu3 [4744 B]
2024/03/29 14:07:11 Get:27 http://archive.ubuntu.com/ubuntu jammy/universe amd64 nasm amd64 2.15.05-1 [375 kB]
2024/03/29 14:07:11 Get:28 http://archive.ubuntu.com/ubuntu jammy/universe amd64 yasm amd64 1.3.0-2.1 [413 kB]
2024/03/29 14:07:11 [91mdebconf: delaying package configuration, since apt-utils is not installed
[0m
2024/03/29 14:07:11 Fetched 58.2 MB in 1min 42s (571 kB/s)
2024/03/29 14:07:12 Selecting previously unselected package wget.
(Reading database ... 
2024/03/29 14:07:12 (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%
2024/03/29 14:07:12 (Reading database ... 70%
2024/03/29 14:07:12 (Reading database ... 75%
2024/03/29 14:07:12 (Reading database ... 80%
2024/03/29 14:07:12 (Reading database ... 85%
2024/03/29 14:07:12 (Reading database ... 90%
2024/03/29 14:07:12 (Reading database ... 95%
2024/03/29 14:07:12 (Reading database ... 100%(Reading database ... 16317 files and directories currently installed.)
2024/03/29 14:07:12 Preparing to unpack .../00-wget_1.21.2-2ubuntu1_amd64.deb ...
2024/03/29 14:07:12 Unpacking wget (1.21.2-2ubuntu1) ...
2024/03/29 14:07:12 Selecting previously unselected package libc-dev-bin.
2024/03/29 14:07:12 Preparing to unpack .../01-libc-dev-bin_2.35-0ubuntu3.6_amd64.deb ...
2024/03/29 14:07:12 Unpacking libc-dev-bin (2.35-0ubuntu3.6) ...
2024/03/29 14:07:12 Selecting previously unselected package linux-libc-dev:amd64.
2024/03/29 14:07:12 Preparing to unpack .../02-linux-libc-dev_5.15.0-101.111_amd64.deb ...
2024/03/29 14:07:12 Unpacking linux-libc-dev:amd64 (5.15.0-101.111) ...
2024/03/29 14:07:12 Selecting previously unselected package libcrypt-dev:amd64.
2024/03/29 14:07:12 Preparing to unpack .../03-libcrypt-dev_1%3a4.4.27-1_amd64.deb ...
2024/03/29 14:07:12 Unpacking libcrypt-dev:amd64 (1:4.4.27-1) ...
2024/03/29 14:07:12 Selecting previously unselected package rpcsvc-proto.
2024/03/29 14:07:12 Preparing to unpack .../04-rpcsvc-proto_1.4.2-0ubuntu6_amd64.deb ...
2024/03/29 14:07:12 Unpacking rpcsvc-proto (1.4.2-0ubuntu6) ...
2024/03/29 14:07:12 Selecting previously unselected package libtirpc-dev:amd64.
2024/03/29 14:07:12 Preparing to unpack .../05-libtirpc-dev_1.3.2-2ubuntu0.1_amd64.deb ...
2024/03/29 14:07:12 Unpacking libtirpc-dev:amd64 (1.3.2-2ubuntu0.1) ...
2024/03/29 14:07:12 Selecting previously unselected package libnsl-dev:amd64.
2024/03/29 14:07:12 Preparing to unpack .../06-libnsl-dev_1.3.0-2build2_amd64.deb ...
2024/03/29 14:07:12 Unpacking libnsl-dev:amd64 (1.3.0-2build2) ...
2024/03/29 14:07:12 Selecting previously unselected package libc6-dev:amd64.
2024/03/29 14:07:12 Preparing to unpack .../07-libc6-dev_2.35-0ubuntu3.6_amd64.deb ...
2024/03/29 14:07:12 Unpacking libc6-dev:amd64 (2.35-0ubuntu3.6) ...
2024/03/29 14:07:12 Selecting previously unselected package gcc-11-base:amd64.
2024/03/29 14:07:12 Preparing to unpack .../08-gcc-11-base_11.4.0-1ubuntu1~22.04_amd64.deb ...
2024/03/29 14:07:12 Unpacking gcc-11-base:amd64 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:12 Selecting previously unselected package cpp-11.
2024/03/29 14:07:12 Preparing to unpack .../09-cpp-11_11.4.0-1ubuntu1~22.04_amd64.deb ...
2024/03/29 14:07:12 Unpacking cpp-11 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:12 Selecting previously unselected package cpp.
2024/03/29 14:07:12 Preparing to unpack .../10-cpp_4%3a11.2.0-1ubuntu1_amd64.deb ...
2024/03/29 14:07:12 Unpacking cpp (4:11.2.0-1ubuntu1) ...
2024/03/29 14:07:12 Selecting previously unselected package libgomp1:amd64.
2024/03/29 14:07:12 Preparing to unpack .../11-libgomp1_12.3.0-1ubuntu1~22.04_amd64.deb ...
2024/03/29 14:07:12 Unpacking libgomp1:amd64 (12.3.0-1ubuntu1~22.04) ...
2024/03/29 14:07:12 Selecting previously unselected package libitm1:amd64.
2024/03/29 14:07:12 Preparing to unpack .../12-libitm1_12.3.0-1ubuntu1~22.04_amd64.deb ...
2024/03/29 14:07:12 Unpacking libitm1:amd64 (12.3.0-1ubuntu1~22.04) ...
2024/03/29 14:07:12 Selecting previously unselected package libatomic1:amd64.
2024/03/29 14:07:12 Preparing to unpack .../13-libatomic1_12.3.0-1ubuntu1~22.04_amd64.deb ...
2024/03/29 14:07:12 Unpacking libatomic1:amd64 (12.3.0-1ubuntu1~22.04) ...
2024/03/29 14:07:12 Selecting previously unselected package libasan6:amd64.
2024/03/29 14:07:12 Preparing to unpack .../14-libasan6_11.4.0-1ubuntu1~22.04_amd64.deb ...
2024/03/29 14:07:12 Unpacking libasan6:amd64 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:12 Selecting previously unselected package liblsan0:amd64.
2024/03/29 14:07:12 Preparing to unpack .../15-liblsan0_12.3.0-1ubuntu1~22.04_amd64.deb ...
2024/03/29 14:07:12 Unpacking liblsan0:amd64 (12.3.0-1ubuntu1~22.04) ...
2024/03/29 14:07:12 Selecting previously unselected package libtsan0:amd64.
2024/03/29 14:07:12 Preparing to unpack .../16-libtsan0_11.4.0-1ubuntu1~22.04_amd64.deb ...
2024/03/29 14:07:12 Unpacking libtsan0:amd64 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:12 Selecting previously unselected package libubsan1:amd64.
2024/03/29 14:07:12 Preparing to unpack .../17-libubsan1_12.3.0-1ubuntu1~22.04_amd64.deb ...
2024/03/29 14:07:12 Unpacking libubsan1:amd64 (12.3.0-1ubuntu1~22.04) ...
2024/03/29 14:07:12 Selecting previously unselected package libquadmath0:amd64.
2024/03/29 14:07:12 Preparing to unpack .../18-libquadmath0_12.3.0-1ubuntu1~22.04_amd64.deb ...
2024/03/29 14:07:12 Unpacking libquadmath0:amd64 (12.3.0-1ubuntu1~22.04) ...
2024/03/29 14:07:12 Selecting previously unselected package libgcc-11-dev:amd64.
2024/03/29 14:07:12 Preparing to unpack .../19-libgcc-11-dev_11.4.0-1ubuntu1~22.04_amd64.deb ...
2024/03/29 14:07:12 Unpacking libgcc-11-dev:amd64 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Selecting previously unselected package gcc-11.
2024/03/29 14:07:13 Preparing to unpack .../20-gcc-11_11.4.0-1ubuntu1~22.04_amd64.deb ...
2024/03/29 14:07:13 Unpacking gcc-11 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Selecting previously unselected package gcc.
2024/03/29 14:07:13 Preparing to unpack .../21-gcc_4%3a11.2.0-1ubuntu1_amd64.deb ...
2024/03/29 14:07:13 Unpacking gcc (4:11.2.0-1ubuntu1) ...
2024/03/29 14:07:13 Selecting previously unselected package libstdc++-11-dev:amd64.
2024/03/29 14:07:13 Preparing to unpack .../22-libstdc++-11-dev_11.4.0-1ubuntu1~22.04_amd64.deb ...
2024/03/29 14:07:13 Unpacking libstdc++-11-dev:amd64 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Selecting previously unselected package g++-11.
2024/03/29 14:07:13 Preparing to unpack .../23-g++-11_11.4.0-1ubuntu1~22.04_amd64.deb ...
2024/03/29 14:07:13 Unpacking g++-11 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Selecting previously unselected package g++.
2024/03/29 14:07:13 Preparing to unpack .../24-g++_4%3a11.2.0-1ubuntu1_amd64.deb ...
2024/03/29 14:07:13 Unpacking g++ (4:11.2.0-1ubuntu1) ...
2024/03/29 14:07:13 Selecting previously unselected package build-essential.
2024/03/29 14:07:13 Preparing to unpack .../25-build-essential_12.9ubuntu3_amd64.deb ...
2024/03/29 14:07:13 Unpacking build-essential (12.9ubuntu3) ...
2024/03/29 14:07:13 Selecting previously unselected package nasm.
2024/03/29 14:07:13 Preparing to unpack .../26-nasm_2.15.05-1_amd64.deb ...
2024/03/29 14:07:13 Unpacking nasm (2.15.05-1) ...
2024/03/29 14:07:13 Selecting previously unselected package yasm.
2024/03/29 14:07:13 Preparing to unpack .../27-yasm_1.3.0-2.1_amd64.deb ...
2024/03/29 14:07:13 Unpacking yasm (1.3.0-2.1) ...
2024/03/29 14:07:13 Setting up gcc-11-base:amd64 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Setting up wget (1.21.2-2ubuntu1) ...
2024/03/29 14:07:13 Setting up linux-libc-dev:amd64 (5.15.0-101.111) ...
2024/03/29 14:07:13 Setting up libgomp1:amd64 (12.3.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Setting up libasan6:amd64 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Setting up yasm (1.3.0-2.1) ...
2024/03/29 14:07:13 Setting up libtirpc-dev:amd64 (1.3.2-2ubuntu0.1) ...
2024/03/29 14:07:13 Setting up rpcsvc-proto (1.4.2-0ubuntu6) ...
2024/03/29 14:07:13 Setting up libquadmath0:amd64 (12.3.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Setting up libatomic1:amd64 (12.3.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Setting up nasm (2.15.05-1) ...
2024/03/29 14:07:13 Setting up libubsan1:amd64 (12.3.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Setting up libnsl-dev:amd64 (1.3.0-2build2) ...
2024/03/29 14:07:13 Setting up libcrypt-dev:amd64 (1:4.4.27-1) ...
2024/03/29 14:07:13 Setting up libc-dev-bin (2.35-0ubuntu3.6) ...
2024/03/29 14:07:13 Setting up liblsan0:amd64 (12.3.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Setting up libitm1:amd64 (12.3.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Setting up libtsan0:amd64 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Setting up cpp-11 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Setting up libgcc-11-dev:amd64 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Setting up gcc-11 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Setting up cpp (4:11.2.0-1ubuntu1) ...
2024/03/29 14:07:13 Setting up libc6-dev:amd64 (2.35-0ubuntu3.6) ...
2024/03/29 14:07:13 Setting up gcc (4:11.2.0-1ubuntu1) ...
2024/03/29 14:07:13 Setting up libstdc++-11-dev:amd64 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:13 Setting up g++-11 (11.4.0-1ubuntu1~22.04) ...
2024/03/29 14:07:14 Setting up g++ (4:11.2.0-1ubuntu1) ...
2024/03/29 14:07:14 update-alternatives: using /usr/bin/g++ to provide /usr/bin/c++ (c++) in auto mode
update-alternatives: warning: skip creation of /usr/share/man/man1/c++.1.gz because associated file /usr/share/man/man1/g++.1.gz (of link group c++) doesn't exist
2024/03/29 14:07:14 Setting up build-essential (12.9ubuntu3) ...
2024/03/29 14:07:14 Processing triggers for libc-bin (2.35-0ubuntu3.6) ...
2024/03/29 14:07:16  ---> Removed intermediate container 7b78f1825e5b
2024/03/29 14:07:16  ---> 7f1e0c4275d2
2024/03/29 14:07:16 Step 15/49 : RUN apt-get clean && rm -rf /var/lib/apt/lists/*
2024/03/29 14:07:16 
2024/03/29 14:07:16  ---> Running in 9e7baacc0241
2024/03/29 14:07:16  ---> Removed intermediate container 9e7baacc0241
2024/03/29 14:07:16  ---> 66cf5a597398
2024/03/29 14:07:16 Step 16/49 : ARG GOLANG_VERSION=1.22.1
2024/03/29 14:07:16 
2024/03/29 14:07:16  ---> Running in 28ef18d32f95
2024/03/29 14:07:16  ---> Removed intermediate container 28ef18d32f95
2024/03/29 14:07:16  ---> f84eff06b895
2024/03/29 14:07:16 Step 17/49 : RUN curl -fsSL "https://golang.org/dl/go${GOLANG_VERSION}.linux-amd64.tar.gz" -o golang.tar.gz     && tar -C /usr/local -xzf golang.tar.gz     && rm golang.tar.gz
2024/03/29 14:07:16 
2024/03/29 14:07:17  ---> Running in eec820aade03
2024/03/29 14:07:35  ---> Removed intermediate container eec820aade03
2024/03/29 14:07:35  ---> da6739e655a4
2024/03/29 14:07:35 Step 18/49 : ENV GOPATH="/go"
2024/03/29 14:07:35 
2024/03/29 14:07:35  ---> Running in 94bd34d0843e
2024/03/29 14:07:35  ---> Removed intermediate container 94bd34d0843e
2024/03/29 14:07:35  ---> 78bd7b1546ee
2024/03/29 14:07:35 Step 19/49 : ENV PATH="${GOPATH}/bin:/usr/local/go/bin:${PATH}"
2024/03/29 14:07:35 
2024/03/29 14:07:35  ---> Running in c3ddea2564a9
2024/03/29 14:07:35  ---> Removed intermediate container c3ddea2564a9
2024/03/29 14:07:35  ---> 1f616a6175e3
2024/03/29 14:07:35 Step 20/49 : RUN mkdir -p "${GOPATH}/src" "${GOPATH}/bin" "${GOPATH}/pkg"     && chmod -R 777 "${GOPATH}"
2024/03/29 14:07:35 
2024/03/29 14:07:35  ---> Running in 0a8f70f199db
2024/03/29 14:07:35  ---> Removed intermediate container 0a8f70f199db
2024/03/29 14:07:35  ---> 545d5bced956
2024/03/29 14:07:35 Step 21/49 : ARG FF_BUILD_DIR=/opt/build
2024/03/29 14:07:35 
2024/03/29 14:07:35  ---> Running in d5f6555f1f6b
2024/03/29 14:07:35  ---> Removed intermediate container d5f6555f1f6b
2024/03/29 14:07:35  ---> 2fbad3caa3bf
2024/03/29 14:07:35 Step 22/49 : ARG COMP_LIBAV=
2024/03/29 14:07:35 
2024/03/29 14:07:36  ---> Running in 96c874c16b8b
2024/03/29 14:07:36  ---> Removed intermediate container 96c874c16b8b
2024/03/29 14:07:36  ---> beb46935d4e7
2024/03/29 14:07:36 Step 23/49 : ARG FFMPEG_VERSION=n5.1.2
2024/03/29 14:07:36 
2024/03/29 14:07:36  ---> Running in 840d201a4e3f
2024/03/29 14:07:36  ---> Removed intermediate container 840d201a4e3f
2024/03/29 14:07:36  ---> 1920e1998530
2024/03/29 14:07:36 Step 24/49 : ARG CROSS_PREFIX=
2024/03/29 14:07:36 
2024/03/29 14:07:36  ---> Running in a387b163f3c9
2024/03/29 14:07:36  ---> Removed intermediate container a387b163f3c9
2024/03/29 14:07:36  ---> 487da21da894
2024/03/29 14:07:36 Step 25/49 : RUN mkdir -p ${FF_BUILD_DIR} &&     if [ "${COMP_LIBAV}" = "YES" ]; then       git clone https://github.com/FFmpeg/FFmpeg.git ${FF_BUILD_DIR}/ffmpeg &&       cd ${FF_BUILD_DIR}/ffmpeg &&       git checkout ${FFMPEG_VERSION} &&       ./configure         --arch=${ARCH}         --target-os=linux         --cross-prefix=${CROSS_PREFIX}         --enable-cross-compile         --prefix=${FF_BUILD_DIR}         --disable-everything         --disable-programs         --enable-avfilter         --enable-avformat         --enable-avcodec         --enable-avutil         --enable-parser=h264,mjpeg,hevc,aac,mp3         --enable-bsf=h264_metadata,h264_mp4toannexb,hevc_metadata,hevc_mp4toannexb,aac_adtstoasc         --enable-protocol=file,rtmp,rtmpt,rtp,data,tcp,pipe,hls         --enable-encoder=h264,mjpeg,hevc         --enable-decoder=h264,mjpeg,hevc         --enable-muxer=flv,h264,mjpeg,hevc,mov,mpegts         --enable-gpl         --enable-small         --disable-doc         --enable-shared &&       make && make install &&       mkdir -p ${APP_DIR}/lib &&       cp -a ${FF_BUILD_DIR}/lib/. ${APP_DIR}/lib;     fi
2024/03/29 14:07:36 
2024/03/29 14:07:36  ---> Running in e0147e2f6b08
2024/03/29 14:07:36  ---> Removed intermediate container e0147e2f6b08
2024/03/29 14:07:36  ---> cf135b074f45
2024/03/29 14:07:36 Step 26/49 : ARG APP_NAME=app
2024/03/29 14:07:36 
2024/03/29 14:07:36  ---> Running in 536500fa17d1
2024/03/29 14:07:36  ---> Removed intermediate container 536500fa17d1
2024/03/29 14:07:36  ---> 758adc203c93
2024/03/29 14:07:36 Step 27/49 : ARG APP_MANIFEST=
2024/03/29 14:07:36 
2024/03/29 14:07:37  ---> Running in 18426dc3cd86
2024/03/29 14:07:37  ---> Removed intermediate container 18426dc3cd86
2024/03/29 14:07:37  ---> 1ef380f2acbf
2024/03/29 14:07:37 Step 28/49 : ARG GO_ARCH=arm64
2024/03/29 14:07:37 
2024/03/29 14:07:37  ---> Running in f2973747acc3
2024/03/29 14:07:37  ---> Removed intermediate container f2973747acc3
2024/03/29 14:07:37  ---> 4d9d8da49b5c
2024/03/29 14:07:37 Step 29/49 : ARG GO_ARM=
2024/03/29 14:07:37 
2024/03/29 14:07:37  ---> Running in e43379812f80
2024/03/29 14:07:37  ---> Removed intermediate container e43379812f80
2024/03/29 14:07:37  ---> 65ea52f7b135
2024/03/29 14:07:37 Step 30/49 : ARG IP_ADDR=
2024/03/29 14:07:37 
2024/03/29 14:07:37  ---> Running in d3fb32008d1c
2024/03/29 14:07:37  ---> Removed intermediate container d3fb32008d1c
2024/03/29 14:07:37  ---> 0d99396cf3bc
2024/03/29 14:07:37 Step 31/49 : ARG PASSWORD=
2024/03/29 14:07:37 
2024/03/29 14:07:37  ---> Running in e7c123dc0071
2024/03/29 14:07:37  ---> Removed intermediate container e7c123dc0071
2024/03/29 14:07:37  ---> 97eb31b1da56
2024/03/29 14:07:37 Step 32/49 : ARG START=
2024/03/29 14:07:37 
2024/03/29 14:07:37  ---> Running in c6a3041af844
2024/03/29 14:07:37  ---> Removed intermediate container c6a3041af844
2024/03/29 14:07:37  ---> 9dc276d8cfe2
2024/03/29 14:07:37 Step 33/49 : ARG INSTALL=
2024/03/29 14:07:37 
2024/03/29 14:07:37  ---> Running in 07238b7515cf
2024/03/29 14:07:37  ---> Removed intermediate container 07238b7515cf
2024/03/29 14:07:37  ---> e9a432dbabb6
2024/03/29 14:07:37 Step 34/49 : ARG GO_APP=test
2024/03/29 14:07:37 
2024/03/29 14:07:37  ---> Running in a036604eb020
2024/03/29 14:07:37  ---> Removed intermediate container a036604eb020
2024/03/29 14:07:37  ---> 8ad9e328832e
2024/03/29 14:07:37 Step 35/49 : ENV GO_APP=${GO_APP}
2024/03/29 14:07:37 
2024/03/29 14:07:37  ---> Running in d7ee9e090b91
2024/03/29 14:07:37  ---> Removed intermediate container d7ee9e090b91
2024/03/29 14:07:37  ---> 9ae39c3b7484
2024/03/29 14:07:37 Step 36/49 : COPY . ${APP_DIR}
2024/03/29 14:07:37 
2024/03/29 14:07:38  ---> 9271da809bc9
2024/03/29 14:07:38 Step 37/49 : WORKDIR ${APP_DIR}
2024/03/29 14:07:38 
2024/03/29 14:07:38  ---> Running in 1cbd6ae61da9
2024/03/29 14:07:38  ---> Removed intermediate container 1cbd6ae61da9
2024/03/29 14:07:38  ---> d9fcb9b5c3f0
2024/03/29 14:07:38 Step 38/49 : RUN python generate_makefile.py ${APP_NAME} ${GO_APP} ${APP_MANIFEST}
2024/03/29 14:07:38 
2024/03/29 14:07:38  ---> Running in 37d7e0e77e05
2024/03/29 14:07:38 Makefile created successfully. examples/axevent/Makefile
2024/03/29 14:07:38  ---> Removed intermediate container 37d7e0e77e05
2024/03/29 14:07:38  ---> 3b055d27edad
2024/03/29 14:07:38 Step 39/49 : WORKDIR ${APP_DIR}/${GO_APP}
2024/03/29 14:07:38 
2024/03/29 14:07:38  ---> Running in ea167938287a
2024/03/29 14:07:38  ---> Removed intermediate container ea167938287a
2024/03/29 14:07:38  ---> ee3171f90c95
2024/03/29 14:07:38 Step 40/49 : ENV CGO_ENABLED=1
2024/03/29 14:07:38 
2024/03/29 14:07:38  ---> Running in 4b9daf7de395
2024/03/29 14:07:38  ---> Removed intermediate container 4b9daf7de395
2024/03/29 14:07:38  ---> 3d64f328ea3f
2024/03/29 14:07:38 Step 41/49 : ENV GOOS=linux
2024/03/29 14:07:38 
2024/03/29 14:07:38  ---> Running in 8c8b2629dee6
2024/03/29 14:07:39  ---> Removed intermediate container 8c8b2629dee6
2024/03/29 14:07:39  ---> 175eaf787645
2024/03/29 14:07:39 Step 42/49 : ENV GOARCH=${GO_ARCH}
2024/03/29 14:07:39 
2024/03/29 14:07:39  ---> Running in df23d92642c6
2024/03/29 14:07:39  ---> Removed intermediate container df23d92642c6
2024/03/29 14:07:39  ---> e4281e24b2a7
2024/03/29 14:07:39 Step 43/49 : ENV GOARM=${GO_ARM}
2024/03/29 14:07:39 
2024/03/29 14:07:39  ---> Running in 15058d2c0145
2024/03/29 14:07:39  ---> Removed intermediate container 15058d2c0145
2024/03/29 14:07:39  ---> 16efd10c70d4
2024/03/29 14:07:39 Step 44/49 : ENV APP_NAME=${APP_NAME}
2024/03/29 14:07:39 
2024/03/29 14:07:39  ---> Running in 5a9f1bb06f43
2024/03/29 14:07:39  ---> Removed intermediate container 5a9f1bb06f43
2024/03/29 14:07:39  ---> 6128f72a9769
2024/03/29 14:07:39 Step 45/49 : ENV MANIFEST=${APP_MANIFEST}
2024/03/29 14:07:39 
2024/03/29 14:07:39  ---> Running in 690f507e2eab
2024/03/29 14:07:39  ---> Removed intermediate container 690f507e2eab
2024/03/29 14:07:39  ---> 7a9d5b4b24e2
2024/03/29 14:07:39 Step 46/49 : RUN . /opt/axis/acapsdk/environment-setup* &&     if [ "${COMP_LIBAV}" = "YES" ]; then         export CGO_LDFLAGS="-L${FF_BUILD_DIR}/lib/" &&         export CGO_CFLAGS="-I${FF_BUILD_DIR}/include/" &&         export PKG_CONFIG_PATH="${FF_BUILD_DIR}/lib/pkgconfig:$PKG_CONFIG_PATH" &&         mkdir lib &&         cp -a ${APP_DIR}/lib .;     fi &&     acap-build . &&     if [ "${INSTALL}" = "YES" ]; then eap-install.sh ${IP_ADDR} ${PASSWORD} install; fi &&     if [ "${START}" = "YES" ]; then eap-install.sh start; fi
2024/03/29 14:07:39 
2024/03/29 14:07:39  ---> Running in bf74e192ed2d
2024/03/29 14:07:39 ===== ACAP application build tool =====

### Validation and file preparation
2024/03/29 14:07:39 * Generate package.conf from manifest file
2024/03/29 14:07:39 * Check architecture in manifest file
* Added architecture 'aarch64' to manifest that will enter the .eap file
2024/03/29 14:07:39 * Validate manifest file to schema
2024/03/29 14:07:39 
### Build application
* Call make
2024/03/29 14:07:39 go build -ldflags "-s -w  -extldflags '-L./lib -Wl,-rpath,./lib'" -o axevent .
2024/03/29 14:07:39 [91mgo: downloading github.com/godbus/dbus/v5 v5.1.0
[0m
2024/03/29 14:07:57 
### Create package
* Call eap-create.sh to package application
2024/03/29 14:07:57 
Reading local package.conf... 
2024/03/29 14:07:57 ok
Package architecture: aarch64
2024/03/29 14:07:57 Info: Created an empty param.conf
Saving Package config: 'package.conf'...
2024/03/29 14:07:57 ok
2024/03/29 14:07:57 Creating Package: 'Goxis_AxEvent_Example_1_0_0_aarch64.eap'... 
2024/03/29 14:07:58 ok
Copying LICENSE file... 
2024/03/29 14:07:58 ok

To install and run the package, you can use a browser and surf to the following page,
(replace axis_device_ip with the IP number of your Axis video product)

http://axis_device_ip/#settings/apps

Or simply use the script and type
eap-install.sh install

2024/03/29 14:07:59  ---> Removed intermediate container bf74e192ed2d
2024/03/29 14:07:59  ---> e46756bf6ae0
2024/03/29 14:07:59 Step 47/49 : RUN mkdir /opt/eap
2024/03/29 14:07:59 
2024/03/29 14:07:59  ---> Running in b93a75494bd2
2024/03/29 14:08:00  ---> Removed intermediate container b93a75494bd2
2024/03/29 14:08:00  ---> b49de9f47c45
2024/03/29 14:08:00 Step 48/49 : RUN mv *.eap /opt/eap
2024/03/29 14:08:00 
2024/03/29 14:08:00  ---> Running in ef3aaaaa6c98
2024/03/29 14:08:00  ---> Removed intermediate container ef3aaaaa6c98
2024/03/29 14:08:00  ---> e317575a2250
2024/03/29 14:08:00 Step 49/49 : RUN cd /opt/eap &&     for file in *.eap; do         mv "$file" "${file%.eap}_sdk_${VERSION}.eap";     done
2024/03/29 14:08:00 
2024/03/29 14:08:01  ---> Running in f25300fe0041
2024/03/29 14:08:01  ---> Removed intermediate container f25300fe0041
2024/03/29 14:08:01  ---> e5e8568432c4
2024/03/29 14:08:01 Successfully built e5e8568432c4
2024/03/29 14:08:01 Successfully tagged acap:aarch64
